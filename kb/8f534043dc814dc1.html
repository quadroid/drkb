<!DOCTYPE html>
<html>
<head>
  <title>Надпись на часах в трее</title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
  <link type="text/css" href="css/css.css" rel="stylesheet"/>
  <link type="text/css" href="css/sh.css" rel="stylesheet"/>
  <script language="javascript" src="js/shInit.js"></script>
  <script language="javascript" src="js/shCore.js"></script>
  <script language="javascript" src="js/shBrushDelphi.js"></script>
  <script language="javascript" src="js/shBrushSql.js"></script>
</head>
<body>
<div id="layout">
<div id="header">
  <a title="DRKB Library" href="../splash.html"><div id="logo"></div></a>
</div>
<div id="content">
<div id="explorer">DRKB Explorer</div>
  <h1 id="title">Надпись на часах в трее</h1>
<div id="date">01.01.2010</div>

<pre name="code" class="delphi">
var

 
  hTrayClock  : HWND;
  DC:HDC;
  r:TRect;
begin
  hTrayClock := FindWindowEx(FindWindowEx(FindWindow('Shell_TrayWnd',nil),0,'TrayNotifyWnd',nil),0,'TrayClockWClass',nil);
  GetWindowRect(hTrayClock,r);
  DC := GetDC(0);
//  SetBkMode(DC, TRANSPARENT);   // можно сделать прозрачный фон
  SetTextColor(DC, RGB($0FF,0,0));
  SetBkColor(DC,RGB($0FF,$0FF,0));
  TextOut(DC, r.Left+((r.Right-r.Left) div 4), r.Top+((r.Bottom-r.Top) div 4), '&gt;:-(', 4);
  ReleaseDC(hTrayClock, DC);
end.
</pre>
<p>При следующем обновлении часов надпись исчезнет. Так что можно делать это по таймеру.<br>
<p>&nbsp;</p>
<p>Взято из <a href="http://forum.sources.ru" target="_blank">http://forum.sources.ru</a></p>
<p id="author">Автор: Krid</p>
</div>

<div id="footer">
<hr/>
<p>Материал из DRKB Library<br/>Разработка и поддержка &mdash; <a title="DRKB на GitHub" href="https://github.com/quadroid/drkb" target="_blank">Quadr0</a></p>
</div>
</div>
</body>
</html>
